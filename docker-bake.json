{
    "variable": {
        "PRODUCT_NAME": {},
        "REPO_NAME": {},
        "VERSION": {},
        "CHANNEL": {},
        "DEPS_ID": {}
    },
    "group": {
        "production": {
            "targets": [
                "ui-production"
            ]
        }
    },
    "target": {
        "common": {
            "args": {
                "PUBLIC_VERSION": "${VERSION}",
                "PUBLIC_PRODUCT_NAME": "${PRODUCT_NAME}",
                "PUBLIC_REPO_NAME": "${REPO_NAME}"
            },
            "dockerfile": "Dockerfile",
            "platforms": [
                "linux/amd64"
            ],
            "labels": {
                "org.opencontainers.image.source": "https://github.com/faxaq/${REPO_NAME}",
                "org.opencontainers.image.licenses": "MIT"
            },
            "cache-from": [
                "type=gha,scope=${DEPS_ID}"
            ],
            "cache-to": [
                "type=gha,mode=max,scope=${DEPS_ID}"
            ]
        },
        "ui": {
            "inherits": [
                "common"
            ],
            "matrix": {
                "ENV": [
                    "production"
                ]
            },
            "name": "ui-${ENV}",
            "args": {
                "PUBLIC_ENV": "${ENV}"
            },
            "tags": [
                "ghcr.io/faxaq/${PRODUCT_NAME}_ui:${VERSION}-${ENV}",
                "ghcr.io/faxaq/${PRODUCT_NAME}_ui:${CHANNEL}-${ENV}"
            ],
            "labels": {
                "org.opencontainers.image.description": "Ui"
            },
            "target": "ui"
        }
    }
}